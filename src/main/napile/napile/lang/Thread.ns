package napile.lang

/**
 * @author VISTALL
 */
class Thread
{
	local val target : {}

	local var state
	{
		local set
	} = ThreadState.NEW

	this(target = {})

	local meth run()
	{
		target()

		state = ThreadState.FINISHED
	}

	meth start()
	{
		if(state != ThreadState.NEW)
			throw IllegalStateException()

		state = ThreadState.STARTED

		start0()
	}

	local native meth start0();
}