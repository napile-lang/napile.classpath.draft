package napile.lang

import napile.io.Console

/**
 * @author VISTALL
 */
class Exception
{
	final val message : String?

	lazy final val stack : Array<StackTraceElement> = generateStack()

	this(message = null)

	local native meth generateStack() : Array<StackTraceElement>

	meth printStackTrace()
	{
		Console.writeLine(getClass().name)
		if(message != null)
		{
			Console.writeLine(" : ")
			Console.writeLine(message)
		}
		for(b in stack)
			Console.writeLine("\tat " + b.name)
	}
}