package napile.lang
import napile.logging.Logger

/**
 * @author VISTALL
 */
class Exception
{
	final val message : String?

	lazy final val stack : Array<StackTraceElement> = generateStack()

	this(message = null)

	local native meth generateStack() : Array<StackTraceElement>

	meth printStackTrace()
	{
		Logger.System.info(getClass().name)
		if(message != null)
		{
			Logger.System.info(" : ")
			Logger.System.info(message)
		}
		for(b in stack)
			Logger.System.info("\tat " + b.name)
	}
}