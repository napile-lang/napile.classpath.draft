package napile.collection

/**
 * @author VISTALL
 */
abstract class Collection<E> : Iterable<E>
{
	local val emptyArray = Array<E>(0)

	this() : Iterable<E>()

	override abstract meth iterator() : Iterator<E>

	abstract meth size() : Int

	meth isEmpty() : Bool = size() == 0

	meth toArray() : Array<E>
	{
		if (isEmpty())
			return emptyArray
		else
		{
			var array = Array<E>(size())
			var index = 0
			for(e in this)
				array[index ++] = e
			return array
		}
	}
}